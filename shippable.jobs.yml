jobs:
    - name: ci-test_runCI
      type: runCI
      steps:
        - IN: daily-verify-debug
        - IN: daily-verify
        - IN: daily-verify-arm
        - IN: daily-verify-issm
        - IN: ci-test_ciRepo
        - IN: s3-token
        - IN: coverity-token

    - name: zephyr_runCI
      type: runCI
      steps:
        - IN: zephyr_ciRepo
        - IN: s3-token

    - name: zephyr-daily-doc
      type: runSh
      steps:
        - IN: s3-token
        - IN: main_repo
          switch: off
        - IN: ci_test_repo
          switch: off
        - IN: docs_theme_repo
          switch: off
        - IN: daily-docs
        - TASK:
          - script: sudo apt-get install doxygen make
          - script: sudo pip install breathe==4.6.0 sphinx==1.5.5  awscli sphinx_rtd_theme
          - script: . /build/IN/ci_test_repo/gitRepo/scripts/build-docs.sh

    - name: upload-coverity
      type: runSh
      steps:
        - IN: s3-token
        - IN: coverity-token
        - TASK:
          - script: aws s3 sync --quiet s3://coverity.zephyrproject.org/weekly/ cov-int
          - script: tar czvf coverity.tgz cov-int
          - script: rm -rf coverity
          - script: curl --form token=${COVERITY_TOKEN}  --form email=it@zephyrproject.org --form file=@coverity.tgz  --form version="1.8.99" --form description="Zephyr master"  https://scan.coverity.com/builds?project=Zephyr
          - script: rm coverity.tgz

    - name: project-doc
      type: runSh
      steps:
        - IN: s3-token
        - IN: doc_repo
          switch: off
        - IN: docs_theme_repo
          switch: off
        - TASK:
          - script: sudo apt-get install doxygen make
          - script: sudo pip install breathe==4.6.0 sphinx==1.5.5  awscli sphinx_rtd_theme
          - script: cd /build/IN/doc_repo/gitRepo/
          - script: cp -a /build/IN/docs_theme_repo/gitRepo/ themes/zephyr-docs-theme
          - script: make html
          - script: aws s3 sync --quiet  _build/html s3://docs.zephyrproject.org/
